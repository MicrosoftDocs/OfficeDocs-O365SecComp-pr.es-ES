---
title: Registro interno de Office 365 para ingeniería de Office 365
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: Una explicación de cómo funciona el registro interno de Office 365 Engineering Teams.
ms.openlocfilehash: e8798d4c6d4ba7393612f9a2b22bc282956a2aa9
ms.sourcegitcommit: 0017dc6a5f81c165d9dfd88be39a6bb17856582e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/23/2019
ms.locfileid: "32262682"
---
# <a name="internal-logging-for-office-365-engineering"></a><span data-ttu-id="9b009-103">Registro interno para el equipo de ingeniería de Office 365</span><span class="sxs-lookup"><span data-stu-id="9b009-103">Internal Logging for Office 365 Engineering</span></span>
<span data-ttu-id="9b009-104">Además de los datos de registro y eventos disponibles para los clientes, también hay un sistema de recopilación de datos de registro interna que está disponible para los ingenieros de Office 365.</span><span class="sxs-lookup"><span data-stu-id="9b009-104">In addition to the events and log data available for customers, there is also an internal log data collection system that is available to Office 365 engineers.</span></span> <span data-ttu-id="9b009-105">Se cargan muchos tipos diferentes de datos de registro de los servidores de Office 365 en un servicio informático interno de gran tamaño denominado cosmos.</span><span class="sxs-lookup"><span data-stu-id="9b009-105">Many different types of log data are uploaded from Office 365 servers to an internal, big data computing service called Cosmos.</span></span> <span data-ttu-id="9b009-106">Cada equipo de servicio carga los registros de auditoría desde sus servidores respectivos a la base de datos cosmos para agregación y análisis.</span><span class="sxs-lookup"><span data-stu-id="9b009-106">Each service team uploads audit logs from their respective servers into the Cosmos database for aggregation and analysis.</span></span> <span data-ttu-id="9b009-107">Esta transferencia de datos se produce en una conexión TLS validada por FIPS 140-2 en puertos y protocolos aprobados específicamente mediante una herramienta de automatización patentada llamada Office Data Loader (ODL).</span><span class="sxs-lookup"><span data-stu-id="9b009-107">This data transfer occurs over a FIPS 140-2-validated TLS connection on specifically approved ports and protocols using a proprietary automation tool called the Office Data Loader (ODL).</span></span> <span data-ttu-id="9b009-108">Las herramientas usadas en Office 365 para recopilar y procesar registros de auditoría no permiten cambios permanentes o irreversibles en el contenido del registro de auditoría original o el pedido de tiempo.</span><span class="sxs-lookup"><span data-stu-id="9b009-108">The tools used in Office 365 to collect and process audit records do not allow permanent or irreversible changes to the original audit record content or time ordering.</span></span>

<span data-ttu-id="9b009-109">Los equipos de servicios usan cosmos como repositorio centralizado para realizar un análisis del uso de la aplicación, medir el rendimiento del sistema y el funcionamiento y buscar anomalías y patrones que puedan indicar problemas o problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="9b009-109">Service teams use Cosmos as a centralized repository to conduct an analysis of application usage, to measure system and operational performance, and to look for abnormalities and patterns that may indicate problems or security issues.</span></span> <span data-ttu-id="9b009-110">Cada equipo de servicio carga una línea base de registros en cosmos, según lo que quiera analizar, que a menudo incluyen:</span><span class="sxs-lookup"><span data-stu-id="9b009-110">Each service team uploads a baseline of logs into Cosmos, depending on what they are looking to analyze, that often include:</span></span>
- <span data-ttu-id="9b009-111">Registros de eventos</span><span class="sxs-lookup"><span data-stu-id="9b009-111">Event logs</span></span>
- <span data-ttu-id="9b009-112">Registros de AppLocker</span><span class="sxs-lookup"><span data-stu-id="9b009-112">AppLocker logs</span></span>
- <span data-ttu-id="9b009-113">Datos de rendimiento</span><span class="sxs-lookup"><span data-stu-id="9b009-113">Performance data</span></span>
- <span data-ttu-id="9b009-114">Datos de System Center</span><span class="sxs-lookup"><span data-stu-id="9b009-114">System Center data</span></span>
- <span data-ttu-id="9b009-115">Registros de detalles de llamadas</span><span class="sxs-lookup"><span data-stu-id="9b009-115">Call detail records</span></span>
- <span data-ttu-id="9b009-116">Datos de la calidad de la experiencia</span><span class="sxs-lookup"><span data-stu-id="9b009-116">Quality of experience data</span></span>
- <span data-ttu-id="9b009-117">Registros del servidor Web de IIS</span><span class="sxs-lookup"><span data-stu-id="9b009-117">IIS Web Server logs</span></span>
- <span data-ttu-id="9b009-118">Registros de SQL Server</span><span class="sxs-lookup"><span data-stu-id="9b009-118">SQL Server logs</span></span>
- <span data-ttu-id="9b009-119">Datos de syslog</span><span class="sxs-lookup"><span data-stu-id="9b009-119">Syslog data</span></span>
- <span data-ttu-id="9b009-120">Registros de auditoría de seguridad</span><span class="sxs-lookup"><span data-stu-id="9b009-120">Security audit logs</span></span>

<span data-ttu-id="9b009-121">Antes de cargar datos en cosmos, la aplicación ODL usa un servicio de limpieza para ofuscar cualquier campo que contenga datos de clientes, como información de inquilinos e información de identificación del usuario final, y reemplazar los campos con un valor hash.</span><span class="sxs-lookup"><span data-stu-id="9b009-121">Prior to uploading data into Cosmos, the ODL application uses a scrubbing service to obfuscate any fields that contain customer data, such as tenant information and end-user identifiable information, and replace those fields with a hash value.</span></span> <span data-ttu-id="9b009-122">Los registros hash y anonimizan se reescriben y, a continuación, se cargan en cosmos.</span><span class="sxs-lookup"><span data-stu-id="9b009-122">The anonymized and hashed logs are rewritten and then uploaded into Cosmos.</span></span> <span data-ttu-id="9b009-123">Los equipos de servicio ejecutan consultas en el ámbito con sus datos en cosmos para obtener correlación, alertas e informes.</span><span class="sxs-lookup"><span data-stu-id="9b009-123">Service teams run scoped queries against their data in Cosmos for correlation, alerting, and reporting.</span></span> <span data-ttu-id="9b009-124">El período de retención de datos del registro de auditoría en cosmos está determinado por los equipos de servicio; la mayoría de los datos del registro de auditoría se conservan durante 90 días o más para admitir investigaciones de incidentes de seguridad y para cumplir con los requisitos de retención de normativas.</span><span class="sxs-lookup"><span data-stu-id="9b009-124">The period of audit log data retention in Cosmos is determined by the service teams; most audit log data is retained for 90 days or longer to support security incident investigations and to meet regulatory retention requirements.</span></span>

<span data-ttu-id="9b009-125">El acceso a los datos de Office 365 almacenados en cosmos está restringido al personal autorizado.</span><span class="sxs-lookup"><span data-stu-id="9b009-125">Access to Office 365 data stored in Cosmos is restricted to authorized personnel.</span></span> <span data-ttu-id="9b009-126">Microsoft restringe la administración de la funcionalidad de auditoría al subconjunto limitado de miembros del equipo de servicio que son responsables de la funcionalidad de auditoría.</span><span class="sxs-lookup"><span data-stu-id="9b009-126">Microsoft restricts the management of audit functionality to the limited subset of service team members that are responsible for audit functionality.</span></span> <span data-ttu-id="9b009-127">Estos miembros del equipo no tienen la capacidad de modificar o eliminar datos de Cosmos, y todos los cambios en los mecanismos de registro para cosmos se registran y auditan.</span><span class="sxs-lookup"><span data-stu-id="9b009-127">These team members do not have the ability to modify or delete data from Cosmos, and all changes to logging mechanisms for Cosmos are recorded and audited.</span></span>

<span data-ttu-id="9b009-128">Cada equipo de servicio tiene acceso a sus datos de registro para su análisis mediante la autorización de determinadas aplicaciones para realizar análisis específicos.</span><span class="sxs-lookup"><span data-stu-id="9b009-128">Each service team accesses its log data for analysis by authorizing certain applications to conduct specific analysis.</span></span> <span data-ttu-id="9b009-129">Por ejemplo, el equipo de seguridad de Office 365 usa datos de Cosmos a través de un analizador de registro de eventos de propietario para correlacionar, enviar alertas y generar informes que requieren acción en el entorno de producción de Office 365.</span><span class="sxs-lookup"><span data-stu-id="9b009-129">For example, the Office 365 Security team uses data from Cosmos through a proprietary event log parser to correlate, alert, and generate actionable reports on possible suspicious activity in the Office 365 production environment.</span></span> <span data-ttu-id="9b009-130">Los informes de estos datos se usan para corregir las vulnerabilidades y para mejorar el rendimiento general del servicio.</span><span class="sxs-lookup"><span data-stu-id="9b009-130">The reports from this data are used to correct vulnerabilities, and to improve the overall performance of the service.</span></span> <span data-ttu-id="9b009-131">Si un informe o alerta específico requiere más investigación, el personal de servicio puede solicitar que los datos se vuelvan a importar en el servicio de Office 365.</span><span class="sxs-lookup"><span data-stu-id="9b009-131">If a specific alert or report requires further investigation, service personnel can request that data be imported back into the Office 365 service.</span></span> <span data-ttu-id="9b009-132">Dado que el registro específico que se importa de Cosmos está en cifrado y el personal de servicio no tiene acceso a las claves de descifrado, el registro de destino se pasa mediante programación a través de un servicio de descifrado que devuelve los resultados con ámbito al personal de servicio autorizado.</span><span class="sxs-lookup"><span data-stu-id="9b009-132">Since the specific log being imported from Cosmos is in encrypted and service personnel do not have access to decryption keys, the target log is programmatically passed through a decryption service that returns scoped results to the authorized service personnel.</span></span> <span data-ttu-id="9b009-133">Todas las vulnerabilidades encontradas en este ejercicio se notifican y se escalan con los canales de administración de incidentes de seguridad estándar de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9b009-133">Any vulnerabilities found from this exercise are reported and escalated using Microsoft's standard security incident management channels.</span></span>
