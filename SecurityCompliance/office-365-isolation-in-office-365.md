---
title: Aislamiento de Office 365 y Control de acceso en Office 365
ms.author: robmazz
author: robmazz
manager: laurawi
ms.date: 8/21/2018
audience: ITPro
ms.topic: article
ms.service: Office 365 Administration
localization_priority: None
search.appverid:
- MET150
ms.collection: Strat_O365_Enterprise
description: 'Resumen: Una explicación de aislamiento y control de acceso dentro de las distintas aplicaciones de Office 365.'
ms.openlocfilehash: c1989bc546df357740ea963a1a241dfa14557931
ms.sourcegitcommit: 36c5466056cdef6ad2a8d9372f2bc009a30892bb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/27/2018
ms.locfileid: "22536748"
---
# <a name="isolation-and-access-control-in-office-365"></a><span data-ttu-id="8ad52-103">Aislamiento y Control de acceso en Office 365</span><span class="sxs-lookup"><span data-stu-id="8ad52-103">Isolation and Access Control in Office 365</span></span>

<span data-ttu-id="8ad52-p101">Office 365 y Azure Active Directory usan un modelo de datos altamente complejo que incluye decenas de servicios, cientos de entidades, miles de relaciones y decenas de miles de atributos (entidades, relaciones y atributos suelen ser específicos de la aplicación). En un nivel alto, Azure Active Directory y los directorios del servicio son los contenedores de los inquilinos y destinatarios y se mantienen sincronizados con los protocolos de replicación basada en el estado. Además de la información de Active directory se conserva dentro de Azure Active Directory, cada uno de los servicios tiene su propia infraestructura de servicios de directorio (por ejemplo, servicios de directorio de Exchange Online, SharePoint Online Directory Services, etcetera).</span><span class="sxs-lookup"><span data-stu-id="8ad52-p101">Azure Active Directory and Office 365 use a highly complex data model that includes tens of services, hundreds of entities, thousands of relationships, and tens of thousands of attributes (entities, relationships and attributes are often application-specific). At a high level, Azure Active Directory and the service directories are the containers of tenants and recipients, and they are kept in sync using state-based replication protocols. In addition to the directory information held within Azure Active Directory, each of the services also have their own directory services infrastructure (e.g., Exchange Online Directory Services, SharePoint Online Directory Services, etc.).</span></span> 
 
![Sincronización de datos del inquilino de Office 365](media/office-365-isolation-tenant-data-sync.png)

<span data-ttu-id="8ad52-p102">Dentro de este modelo, no hay ningún origen de datos de Active directory único. Cada parte individual de datos pertenece a un sistema específico, pero ningún sistema único contiene todos los datos. Servicios de Office 365 cooperan con Azure Active Directory para obtener el modelo de datos. Azure Active Directory es el "sistema de verdad" para los datos compartidos, que normalmente son pequeños y estáticos datos utilizados con frecuencia por cada servicio. El modelo federado usado en Office 365 y Azure Active Directory proporciona la vista compartida de los datos.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p102">Within this model, there is no single source of directory data. Every individual piece of data is owned by a specific system, but no single system holds all the data. Office 365 services cooperate with Azure Active Directory to realize the data model. Azure Active Directory is the "system of truth" for shared data, which is typically small and static data used often by every service. The federated model used within Office 365 and Azure Active Directory provides the shared view of the data.</span></span>

<span data-ttu-id="8ad52-p103">Office 365 usa almacenamiento físico y el almacenamiento de Azure en la nube. Exchange Online (incluido Exchange Online Protection) y Skype para la empresa utilizan su propio almacenamiento de información para los datos de cliente. SharePoint Online aprovecha su almacenamiento de SQL Server y el almacenamiento de Azure, lo que necesita la necesidad de aislamiento adicionales de los datos de cliente en el nivel de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p103">Office 365 uses both physical storage and Azure cloud storage. Exchange Online (including Exchange Online Protection) and Skype for Business use their own storage for customer data. SharePoint Online leverages both its SQL Server storage and Azure storage, which necessitates the need for additional isolation of customer data at the storage level.</span></span>

## <a name="exchange-online"></a><span data-ttu-id="8ad52-116">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="8ad52-116">Exchange Online</span></span>
<span data-ttu-id="8ad52-p104">Exchange Online almacena datos de los clientes dentro de los buzones de correo que se hospedan dentro de las bases de datos de motor de almacenamiento Extensible (ESE) denominados bases de datos de buzón de correo. Esto incluye los buzones de usuario, buzones de correo vinculados, buzones de correo compartidos y buzones de carpetas públicas. Los buzones de usuario también pueden incluir guardada Skype para contenido empresarial, como los historiales de conversación. El contenido del buzón de usuario incluye mensajes de correo electrónico y datos adjuntos de correo electrónico, información de libre/ocupado y el calendario, contactos, tareas, notas, grupos y datos de inferencia.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p104">Exchange Online stores customer data within mailboxes that are hosted within Extensible Storage Engine (ESE) databases called mailbox databases. This includes user mailboxes, linked mailboxes, shared mailboxes and public folder mailboxes. User mailboxes may also include saved Skype for Business content, such as conversation histories. User mailbox content includes emails and email attachments, calendaring and free/busy information, contacts, tasks, notes, Groups, and inference data.</span></span>

<span data-ttu-id="8ad52-p105">Cada base de datos de buzón de correo de Exchange Online contiene los buzones de correo de varios inquilinos. Todos los buzones se protegen mediante código de autorización, incluido dentro de un arrendamiento. Como con una implementación local de Exchange, de forma predeterminada sólo el usuario asignado tiene acceso a un buzón de correo. La lista de control de acceso (ACL) que protege un buzón de correo contiene una identidad que se autentica mediante Active Directory en el nivel de inquilino de Azure. Los buzones de correo para un determinado inquilino se limitan a las identidades autenticadas con el proveedor de autenticación que multiempresa, que incluyen sólo los usuarios de ese inquilino. Contenido que pertenecen a TenantA no en modo alguno pueden obtenerse por los usuarios de TenantB, a menos que estén aprobados explícitamente por TenantA.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p105">Each mailbox database within Exchange Online contains mailboxes from multiple tenants. All mailboxes are secured by authorization code, including within a tenancy. As with an on-premises deployment of Exchange, by default only the assigned user has access to a mailbox. The access control list (ACL) that secures a mailbox contains an identity that is authenticated by Azure Active Directory at the tenant level. The mailboxes for a given tenant are limited to identities authenticated against that tenant's authentication provider, which include only users from that tenant. Content belonging to TenantA cannot in any way be obtained by users in TenantB, unless explicitly approved by TenantA.</span></span>

## <a name="skype-for-business"></a><span data-ttu-id="8ad52-127">Skype Empresarial</span><span class="sxs-lookup"><span data-stu-id="8ad52-127">Skype for Business</span></span>
<span data-ttu-id="8ad52-128">Skype para la empresa almacena los datos en varios lugares:</span><span class="sxs-lookup"><span data-stu-id="8ad52-128">Skype for Business stores data in a variety of places:</span></span>
- <span data-ttu-id="8ad52-p106">Cuenta de información, que incluye los extremos de la conexión, identificadores de arrendatario, planes de marcado, configuración, estado de presencia, las listas de contactos, etc., de movilidad y de usuario se almacena en la Skype para los servidores de Active Directory de negocio, así como en diversas Skype para la base de datos empresariales servidores. Las listas de contactos se almacenan en el buzón del usuario Exchange Online Si el usuario está habilitado para ambos productos, o en Skype para servidores empresariales si el usuario no es. Skype para los servidores de base de datos de negocio no están divididas por inquilino, pero se exige el aislamiento de multiempresa de los datos a través de RBAC.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p106">User and account information, which includes connection endpoints, tenant IDs, dial plans, roaming settings, presence state, contact lists, etc., is stored in the Skype for Business Active Directory servers, as well as in various Skype for Business database servers. Contact lists are stored in the user's Exchange Online mailbox if the user is enabled for both products, or on Skype for Business servers if the user is not. Skype for Business database servers are not partitioned per-tenant, but multi-tenancy isolation of data is enforced through RBAC.</span></span>
- <span data-ttu-id="8ad52-p107">Contenido, de las reuniones, como contenido a los usuarios cargan durante Skype para reuniones de negocios, se almacenan en los recursos compartidos del sistema de archivos distribuido. Este contenido también se puede archivar en Exchange Online siempre está habilitado el archivado. Los recursos compartidos DFS no están divididas por inquilino, pero se protege el contenido con las ACL y varios inquilinos se aplican a través de RBAC.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p107">Meeting content, such as content users upload during Skype for Business meetings, is stored on Distributed File System shares. This content can also be archived in Exchange Online provided archiving is enabled. The DFS shares are not partitioned per-tenant but the content is secured with ACLs and multi-tenancy is enforced through RBAC.</span></span>
- <span data-ttu-id="8ad52-p108">Registros de detalles de llamadas, que es el historial de actividad, como historial de llamadas, sesiones de mensajería instantánea, uso compartido de aplicaciones, historial de mensajería instantánea, etc., también se pueden almacenar en Exchange Online, pero la mayoría de los registros de detalles de llamadas se almacena temporalmente en los servidores de registro (CDR) de todos los detalles de llamada. Contenido no se divide por inquilino, pero multiempresa se aplica a través de RBAC.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p108">Call detail records, which is the activity history, such as call history, IM sessions, application sharing, IM history, etc., can also be stored in Exchange Online, but most call detail records are temporarily stored on call detail record (CDR) servers. Content is not partitioned per tenant, but multi-tenancy is enforced through RBAC.</span></span>

## <a name="sharepoint-online"></a><span data-ttu-id="8ad52-137">SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="8ad52-137">SharePoint Online</span></span>
<span data-ttu-id="8ad52-p109">Existen varios mecanismos independientes único a SharePoint Online que proporcionan el aislamiento de datos. SharePoint Online almacena objetos como abstracta código dentro de las bases de datos de aplicación. Por ejemplo, cuando un usuario carga un archivo en SharePoint Online, ese archivo se desmontar y traducir a código de la aplicación y se almacena en varias tablas a través de varias bases de datos.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p109">There are several independent mechanisms unique to SharePoint Online that provide data isolation. SharePoint Online stores objects as abstracted code within application databases. For example, when a user uploads a file to SharePoint Online, that file is disassembled and translated into application code and stored in multiple tables across multiple databases.</span></span>

<span data-ttu-id="8ad52-p110">Si un usuario podría obtener acceso directo al almacenamiento de información que contiene los datos, el contenido no sería puedan interpretar a una persona o un sistema distinto de SharePoint Online. Estos mecanismos incluyen propiedades y control de acceso de seguridad. Como se describió anteriormente, todos los recursos de SharePoint Online se protegen mediante el código de autorización y la directiva de RBAC, incluido dentro de un arrendamiento. La lista de control de acceso (ACL) que protege un recurso contiene una identidad que se autentica en el nivel de inquilino. Al igual que con Exchange Online, SharePoint Online, datos de un determinado inquilino se limitan a las identidades autenticadas con el proveedor de autenticación que multiempresa, que incluyen sólo los usuarios de ese inquilino.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p110">If a user could gain direct access to the storage containing the data, the content would not be interpretable to a human or any system other than SharePoint Online. These mechanisms include security access control and properties. As described above, all SharePoint Online resources are secured by the authorization code and RBAC policy, including within a tenancy. The access control list (ACL) that secures a resource contains an identity that is authenticated at the tenant level. As with Exchange Online, in SharePoint Online, data for a given tenant are limited to identities authenticated against that tenant's authentication provider, which include only users from that tenant.</span></span>

<span data-ttu-id="8ad52-p111">Además de las ACL, una propiedad de nivel de inquilino que especifica el proveedor de autenticación (que es específica de inquilinos Azure Active Directory), se escribe una vez y no se puede cambiar una vez establecida. Una vez que se ha establecido la propiedad inquilino de proveedor de autenticación para un inquilino, no se puede cambiar mediante cualquier API expuestas a un inquilino.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p111">In addition to the ACLs, a tenant level property that specifies the authentication provider (which is the tenant-specific Azure Active Directory), is written once and cannot be changed once set. Once the authentication provider tenant property has been set for a tenant, it cannot be changed using any APIs exposed to a tenant.</span></span>

<span data-ttu-id="8ad52-p112">Un único *SubscriptionId* también se usa para cada inquilino. Todos los sitios de los clientes son propiedad de un inquilino y se asignan a un único *SubscriptionId* para el inquilino. La propiedad *SubscriptionId* en un sitio se escribe una vez y no se puede cambiar. Una vez que se asigna un sitio a un inquilino, no se puede mover a un inquilino diferente más adelante mediante la API del almacén de contenido. El *SubscriptionId* también es la clave que se usa para crear el ámbito de la seguridad para el proveedor de autenticación y está relacionada con el inquilino.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p112">A unique *SubscriptionId* is also used for each tenant. All customer sites are owned by a tenant and are assigned a *SubscriptionId* unique to the tenant. The *SubscriptionId* property on a site is written once and cannot be changed. Once a site is assigned to a tenant, it cannot be moved to a different tenant later using the content store API. The *SubscriptionId* is also the key that is used to create the security scope for the authentication provider and is tied to the tenant.</span></span>

<span data-ttu-id="8ad52-p113">SharePoint Online utiliza almacenamiento de Azure y SQL Server para el almacenamiento de contenido. En el nivel de SQL, la clave de partición del almacén de contenido es *SiteId*. Cuando se ejecuta una consulta SQL, SharePoint Online usa un *SiteId* que se ha comprobado como parte de una comprobación de *SubscriptionId* inquilino.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p113">SharePoint Online uses SQL Server and Azure storage for the storing of content. At the SQL level, the partition key for the content store is *SiteId*. When running a SQL query, SharePoint Online uses a *SiteId* that has been verified as part of a tenant-level *SubscriptionId* check.</span></span>

<span data-ttu-id="8ad52-p114">SharePoint Online almacena objetos BLOB binarios de archivo (por ejemplo, las secuencias de archivo) en Microsoft Azure. Cada granja de servidores de SharePoint Online tiene su propia cuenta de Microsoft Azure y se cifran todos los BLOB guardados en Azure individualmente mediante una clave que se almacena en el almacén de contenido de SQL. La clave de cifrado no se expone directamente a los usuarios finales y está protegida en el código por la capa de autorización. Por último, SharePoint Online tiene la supervisión en tiempo real en su lugar para detectar cuándo una solicitud HTTP lee o escribe los datos de más de un inquilino. Esto hace seguimiento el *SubscriptionId* de la identidad de la solicitud contra la *SubscriptionId* del recurso que se tiene acceso. Una solicitud de acceso a los recursos de más de un inquilino nunca debe producirse por el usuario final. Puede ocurrir aunque las solicitudes de servicio en un entorno de varios inquilino. Por ejemplo, el Rastreador de búsqueda extrae los cambios en el contenido de una base de datos completa a la vez. Normalmente, esto implica consultar sitios del inquilino más de una en una solicitud de servicio único, que se realiza por motivos de eficacia.</span><span class="sxs-lookup"><span data-stu-id="8ad52-p114">SharePoint Online stores file binary blobs (e.g., the file streams) in Microsoft Azure. Each SharePoint Online farm has its own Microsoft Azure account and all the blobs saved in Azure are encrypted individually using a key that is stored in the SQL content store. The encryption key is not exposed directly to the end user, and is protected in code by the authorization layer. Finally, SharePoint Online has real-time monitoring in place to detect when an HTTP request reads or writes data for more than one tenant. It does this by tracking the *SubscriptionId* of the request identity against the *SubscriptionId* of the resource being accessed. A request accessing resources of more than one tenant should never happen by end-user. It can happen for service requests in a multi-tenant environment, though. For example, the search crawler pulls content changes for an entire database all at once. This usually involves querying sites of more than one tenant in a single service request, which is done for efficiency reasons.</span></span>
